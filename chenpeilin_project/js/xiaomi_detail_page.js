"use strict";jQuery(function(d){d("#shopping_cart").mouseover(function(){d("#shopping_cart").css("background-color","#FF6700"),d("#shopping_cart span").css("color","#fff"),d(".shopping_cart").stop().slideDown(180)}),d("#shopping_cart").mouseout(function(){d("#shopping_cart").css("background-color",""),d("#shopping_cart span").css("color",""),d(".shopping_cart").stop().slideUp(180)}),d(".search_box").on("focus",function(){d(".search_box").css("border-color","#FF6700"),d(".search_engine span").css("border-color","#FF6700")}),d(".search_box").on("blur",function(){d(".search_box").css("border-color","#000"),d(".search_engine span").css("border-color","#000")});document.getElementsByClassName("nav_list")[0].getElementsByTagName("li");for(var o,e=document.getElementById("nav"),s=document.getElementsByClassName("products_box")[0],r=document.getElementsByClassName("nav_list")[0],n=0;n<r.children.length;n++)r.children[n].idx1=n,r.children[n].children[0].idx2=n;e.onmouseover=function(e){"zidxshow"!=e.target.className&&"ashow"!=e.target.className||("zidxshow"==e.target.className?o=e.target.idx1:"ashow"==e.target.className&&(o=e.target.idx2),d(".products_box li").removeAttr("id"),d(".products_box").stop().slideDown(180),d(".products_box").children().children().eq(o).attr("id","zidx"),s.onmouseover=function(){d(".products_box").stop().slideDown(180),d(".products_box li").removeAttr("id"),d(".products_box .parent_li").eq(o).attr("id","zidx")})},e.onmouseout=function(e){"zidxshow"!=e.target.className&&"ashow"!=e.target.className||(d(".products_box").stop().slideUp(180),s.onmouseout=function(){d(".products_box").stop().slideUp(180)})};var t=new Swiper(".swiper-container",{autoplay:{delay:2e3,disableOnInteraction:!1},loop:!0,speed:500,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},effect:"fade",pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(e,o){return'<span class="'+o+'"></span>'}},mousewheel:!1}),i=document.getElementById("swiper-container");i.onmouseover=function(){t.autoplay.stop()},i.onmouseout=function(){t.autoplay.start()},d(".swiper-button-prev").mouseover(function(){d(".swiper-button-prev").css("background-color","#0E0013")}),d(".swiper-button-prev").mouseout(function(){d(".swiper-button-prev").css("background-color","")}),d(".swiper-button-next").mouseover(function(){d(".swiper-button-next").css("background-color","#0E0013")}),d(".swiper-button-next").mouseout(function(){d(".swiper-button-next").css("background-color","")}),d("#xiaomi_inventory").on("mouseover","li",function(){d(".xiaomi_inventory").css("display","none"),d(this).children(".xiaomi_inventory").css("display","block")}),d("#xiaomi_inventory").on("mouseout","li",function(){d(".xiaomi_inventory").css("display","none")}),d("#all_goods_list").mouseover(function(){d("#xiaomi_inventory").css("display","block")}),d("#all_goods_list").mouseout(function(){d("#xiaomi_inventory").css("display","none")});var l=d("#suck_option").offset().top;d(".swiper-wrapper").offset().top,d(".swiper-wrapper").offset().left;window.onscroll=function(){window.scrollY>l+64?d("#suck_option").attr("class","suckfixed"):window.scrollY<=l+64&&d("#suck_option").attr("class","")},d(".suck_option span").click(function(){d(".suck_option span").css("color",""),d(".list_common").css("z-index",""),d(".list_common").eq(d(this).index()).css("z-index","2"),d(".suck_option span").eq(d(this).index()).css("color","#FF6B00k")});var u=decodeURI(location.search);u=u.slice(1).split("=")[1],console.log(u),d.ajax({url:"../api/xiaomi_details.php",type:"POST",data:{a:"foundById",dataid:u},async:!0,success:function(e){$all_res=d.parseJSON(e),console.log($all_res),$version_res=d.parseJSON($all_res[0].versions_information),$version_color=d.parseJSON($all_res[0].version_color),$color_img=d.parseJSON($all_res[0].color_img),console.log("版本信息",$color_img[0].img1),d(".listname").html($all_res[0].listname),d(".hostname").html($all_res[0].listname),d(".phone_describe span").eq(0).html($all_res[0].Explanation1),d(".phone_describe span").eq(1).html($all_res[0].Explanation2),d(".phone_describe span").eq(2).html($all_res[0].particular_describe),d(".phone_price span").eq(0).html($all_res[0].original_price+"元"),d(".phone_price span").eq(1).children("del").html($all_res[0].present_price+"元"),document.title=$all_res[0].listname+"购买-小米商城",console.log($version_res);var o="";o+=$version_res.map(function(e){return"<li data-version-id='"+e.version_id+"'>\n                            <span>"+e.version_name+"</span>\n                            <span>"+e.present_price+"元</span>\n                        </li>"}).join(""),d(".phoneversion ul").html(o),d(".phoneversion ul li").eq(0).css("border-color","#FF6700"),d(".phoneversion ul li").children("span").eq(0).css("color","#FF6700"),d(".totalnum_header").children("p").eq(0).children("span").eq(0).html($all_res[0].listname),d(".totalnum_header").children("p").eq(1).children("span").eq(0).html($version_res[0].present_price+"元"),d(".totalnum_header").children("p").eq(1).children("span").eq(1).children("del").html($version_res[0].original_price+"元"),d(".totalnum_header").children("p").eq(0).children("span").eq(1).html($version_res[0].version_name.slice(0,-4)),d(".totalnum_header").children("p").eq(0).children("span").eq(2).html($version_color[0]),d(".totalnum_bottom span").html($version_res[0].present_price+"元");var a="1299",p=$version_res[0].version_name.slice(-3);console.log(p),d(".phoneversion ul").on("click","li",function(){d(".phoneversion ul li").css("border-color",""),d(".phoneversion ul li").children("span").css("color",""),d(this).css("border-color","#FF6700"),d(this).children("span").eq(0).css("color","#FF6700"),d(".color_tab_control ul").css("display","none"),d(".color_tab_control ul").eq(d(this).index()).css("display","block"),d(".totalnum_header").children("p").eq(0).children("span").eq(1).html($version_res[d(this).index()].version_name.slice(0,-4)),p=$version_res[d(this).index()].version_name.slice(-3),d(".totalnum_header").children("p").eq(1).children("span").eq(0).html($version_res[d(this).index()].present_price+"元"),d(".totalnum_header").children("p").eq(1).children("span").eq(1).children("del").html($version_res[d(this).index()].original_price+"元"),d(".totalnum_bottom span").html($version_res[d(this).index()].present_price+"元"),a=$version_res[d(this).index()].present_price,d(".totalnum_header").children("p").eq(0).children("span").eq(2).html($version_color[0])});var s="";s+=$version_res.map(function(e){return"<ul class='clearfix'>"+e.version_id+"</ul>"}).join(""),d(".color_tab_control").html(s),console.log($color_img);for(var r=0;r<$version_res.length;r++){var n="";n+=$version_res[r].color.map(function(e){return'<li><i><img src="" alt="" /></i>'+e+"</li>"}).join(""),d(".color_tab_control ul").eq(r).html(n);for(var t=0;t<$version_res[r].color.length;t++)d(".color_tab_control ul").eq(r).children("li").children("i").eq(t).children("img").attr("src",$color_img[t].img1),d(".color_tab_control ul").eq(r).children("li").eq(0).css({"border-color":"#FF6700",color:"#FF6700"})}for(var i=0;i<=d(".slideshow_img").length-2;i++)d(".slideshow_img").eq(i).attr("src",$color_img[0]["img"+i]);function l(){var e=Number(d(".priceone").html().slice(0,-1)),o=Number(d(".pricesecond").html().slice(0,-1));Number(d(".totalnum_bottom span").html().slice(0,-1));d(".totalnum_bottom span").html(Number(a)+e+o+"元")}d(".color_tab_control ul").on("click","li",function(){d(this).parent("ul").children("li").css("border-color",""),d(this).css("border-color","#FF6700");for(var e=0;e<=d(".slideshow_img").length-2;e++)d(".slideshow_img").attr("src","");console.log(d(this).index());for(e=0;e<=d(".slideshow_img").length-2;e++)d(".slideshow_img").eq(e).attr("src",$color_img[d(this).index()]["img"+e]);d(".totalnum_header").children("p").eq(0).children("span").eq(2).html($version_color[d(this).index()])}),d("input").click(function(){console.log("总价格",a),d(".selectserve").find("input").removeAttr("checked"),d(this).parents(".guarantee").find(".selectserve").find(".serve_m p").eq(0).css("color",""),d(this).parents(".guarantee").find(".selectserve").css("border-color",""),d(this).parents(".serve").css("border-color","#FF6700"),d(this).parents(".serve").find("input").attr("checked","checked"),d(this).parents(".serve").find("input"),d(this).parents(".serve").find(".serve_m p").eq(0).css("color","#FF6700"),d(this).prop("checked")||(d(this).parents(".serve").find("input").removeAttr("checked"),d(this).parents(".serve").find(".serve_m p").eq(0).css("color",""),d(this).parents(".serve").css("border-color",""));var e="",o="",s="",r="";1==d(this).parents(".guarantee").attr("data-id")&&d(this).parents(".serve").find("input").prop("checked")?(1==d(this).index()?e=d(this).parent().next().children().eq(0).html():0==d(this).index()&&(e=d(this).parents(".serve_m").children().eq(0).html()),s=d(this).parents(".serve").find(".serve_r").children("span").eq(0).html(),d(".totalnum_output .output_serve").eq(0).children().eq(0).html(e),d(".totalnum_output .output_serve").eq(0).children().eq(1).html(s+"元")):1!=d(this).parents(".guarantee").attr("data-id")||d(this).parents(".serve").find("input").prop("checked")||(d(".totalnum_output .output_serve").eq(0).children().eq(0).html(""),d(".totalnum_output .output_serve").eq(0).children().eq(1).html("")),2==d(this).parents(".guarantee").attr("data-id")&&d(this).parents(".serve").find("input").prop("checked")?(o=d(this).parents(".guarantee").find(".serve_m p").eq(0).html(),r=d(this).parents(".serve").find(".serve_r").children("span").eq(0).html(),d(".totalnum_output .output_serve").eq(1).children().eq(0).html(o),d(".totalnum_output .output_serve").eq(1).children().eq(1).html(r+"元")):2!=d(this).parents(".guarantee").attr("data-id")||d(this).parents(".serve").find("input").prop("checked")||(d(".totalnum_output .output_serve").eq(1).children().eq(0).html(""),d(".totalnum_output .output_serve").eq(1).children().eq(1).html("")),console.log(a,6984654564);Number(a);d(".isok1").prop("checked")&&l(),d(".isok1").prop("checked")||l(),d(".isok2").prop("checked")&&l(),d(".isok2").prop("checked")||l(),d(".isok3").prop("checked")&&l(),d(".isok3").prop("checked")||l()}),d("#addtocart").css("cursor","pointer"),d("#addtocart").click(function(){var e=d(".isok1").prop("checked"),o=d(".isok2").prop("checked"),s=d(".isok3").prop("checked"),r=$all_res[0].listname,n=d(".colorphone").html(),t=[{status1:"全年意外保障服务",status2:"手机意外摔落/进水/碾压等损坏",checked:e},{status1:"全年碎屏保障服务",status2:"手机意外碎屏",checked:o},{status1:"延长保修服务",status2:"厂保延一年，性能故障免费维修",checked:s}],i=JSON.stringify(t),l=d(".version_separate").html().split("+");l.push(p);var c=JSON.stringify(l);console.log(d),d.ajax({url:"../api/xiaomi_shopping_cart.php",type:"post",data:{a:"insert_cart",content_id:u,list_name:r,host_img:$color_img[0].img1,gift:1,price:a,serveice:i,buynum:1,maxnum:5,version_phone:c,color_phone:n},async:!0,success:function(e){$res=d.parseJSON(e),console.log(123666,$res),"1"==$res.code?$res.currentnum==$res.maxnum?(d(".my_model").css("display","block"),d("#diglog_shouc_ok").click(function(){d(".my_model").css("display","none")})):$res.currentnum<$res.maxnum&&(location.href="xiaomi_jump_cart.html?cid="+u):alert($res.message)},error:function(e){console.log(e)}})}),d("#shopping_cart").click(function(){location.href="xiaomi_shopping_cart.html"})},error:function(e){console.log(e)}})});